<?php

//redirect to page with message
function redirect($page = FALSE, $message = NULL, $messageType = NULL){
    if(is_string($page)){
        $location = $page;
    } else{
        $location = $_SERVER['SCRIPT_NAME'];
    }

    if($message != NULL){
        $_SESSION['message'] = $message;
    }

    if($messageType != NULL){
        $_SESSION['message_type'] = $messageType;
    }

    //redirect
    header('Location: ',$location);
    exit();
}

function displayMessage(){
    if(!empty($_SESSION['message'])){
        $message = $_SESSION['message'];

        if(!empty($_SESSION['message_type'])){
            $messageType = $_SESSION['message_type'];

            echo '<div class="alert alert-'.$messageType.'">'.$message.'</div>';
        }

        //unset session vars
        unset($_SESSION['message']);
        unset($_SESSION['message_type']);
    } else{
        echo "";
    }

}

//generate random string
function getRandomString($n = 255) {
    $characters = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ';
    $randomString = '';
  
    for ($i = 0; $i < $n; $i++) {
        $index = rand(0, strlen($characters) - 1);
        $randomString .= $characters[$index];
    }
  
    return $randomString;
}

function getFood($name){
    $searchItem = $name;

    $curl = curl_init();

    curl_setopt_array($curl, [
        CURLOPT_URL => "https://edamam-food-and-grocery-database.p.rapidapi.com/parser?ingr=".$searchItem,
        CURLOPT_RETURNTRANSFER => true,
        CURLOPT_FOLLOWLOCATION => true,
        CURLOPT_ENCODING => "",
        CURLOPT_MAXREDIRS => 10,
        CURLOPT_TIMEOUT => 30,
        CURLOPT_HTTP_VERSION => CURL_HTTP_VERSION_1_1,
        CURLOPT_CUSTOMREQUEST => "GET",
        CURLOPT_HTTPHEADER => [
            "x-rapidapi-host: edamam-food-and-grocery-database.p.rapidapi.com",
            "x-rapidapi-key: 860cb57946msh29ff590041ef434p193eaejsn99b20ea7a5f2"
        ],
    ]);

    $response = curl_exec($curl);
    $err = curl_error($curl);

    curl_close($curl);
    $json = json_decode($response, true);

    if ($err) {
        //echo "cURL Error #:" . $err;
        return False;
    } else {
        return $json;
    }
}
/*function getFood($a){
    $json = '{ "text" : "apple", "parsed" : [ { "food" : { "foodId" : "food_a1gb9ubb72c7snbuxr3weagwv0dd", "uri" : "http://www.edamam.com/ontologies/edamam.owl#Food_apple", "label" : "Apple", "nutrients" : { "ENERC_KCAL" : 52.0, "PROCNT" : 0.26, "FAT" : 0.17, "CHOCDF" : 13.81, "FIBTG" : 2.4 }, "category" : "Generic foods", "categoryLabel" : "food", "image" : "https://www.edamam.com/food-img/42c/42c006401027d35add93113548eeaae6.jpg" } } ], "hints" : [ { "food" : { "foodId" : "food_a1gb9ubb72c7snbuxr3weagwv0dd", "uri" : "http://www.edamam.com/ontologies/edamam.owl#Food_apple", "label" : "Apple", "nutrients" : { "ENERC_KCAL" : 52.0, "PROCNT" : 0.26, "FAT" : 0.17, "CHOCDF" : 13.81, "FIBTG" : 2.4 }, "category" : "Generic foods", "categoryLabel" : "food", "image" : "https://www.edamam.com/food-img/42c/42c006401027d35add93113548eeaae6.jpg" }, "measures" : [ { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_unit", "label" : "Whole", "qualified" : [ [ { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Qualifier_large", "label" : "large" } ], [ { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Qualifier_small", "label" : "small" } ], [ { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Qualifier_medium", "label" : "medium" } ] ] }, { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_serving", "label" : "Serving" }, { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_apple", "label" : "Apple" }, { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_gram", "label" : "Gram" }, { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_ounce", "label" : "Ounce" }, { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_pound", "label" : "Pound" }, { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram", "label" : "Kilogram" }, { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_cup", "label" : "Cup", "qualified" : [ [ { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Qualifier_quartered", "label" : "quartered" }, { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Qualifier_chopped", "label" : "chopped" } ] ] } ] }, { "food" : { "foodId" : "food_a1gb9ubb72c7snbuxr3weagwv0dd", "uri" : "http://www.edamam.com/ontologies/edamam.owl#Food_apple", "label" : "Empire Apple", "nutrients" : { "ENERC_KCAL" : 52.0, "PROCNT" : 0.26, "FAT" : 0.17, "CHOCDF" : 13.81, "FIBTG" : 2.4 }, "category" : "Generic foods", "categoryLabel" : "food", "image" : "https://www.edamam.com/food-img/42c/42c006401027d35add93113548eeaae6.jpg" }, "measures" : [ { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_unit", "label" : "Whole", "qualified" : [ [ { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Qualifier_large", "label" : "large" } ], [ { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Qualifier_small", "label" : "small" } ], [ { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Qualifier_medium", "label" : "medium" } ] ] }, { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_serving", "label" : "Serving" }, { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_apple", "label" : "Apple" }, { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_gram", "label" : "Gram" }, { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_ounce", "label" : "Ounce" }, { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_pound", "label" : "Pound" }, { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram", "label" : "Kilogram" }, { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_cup", "label" : "Cup", "qualified" : [ [ { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Qualifier_quartered", "label" : "quartered" }, { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Qualifier_chopped", "label" : "chopped" } ] ] } ] }, { "food" : { "foodId" : "food_a1gb9ubb72c7snbuxr3weagwv0dd", "uri" : "http://www.edamam.com/ontologies/edamam.owl#Food_apple", "label" : "Sorb Apple", "nutrients" : { "ENERC_KCAL" : 52.0, "PROCNT" : 0.26, "FAT" : 0.17, "CHOCDF" : 13.81, "FIBTG" : 2.4 }, "category" : "Generic foods", "categoryLabel" : "food", "image" : "https://www.edamam.com/food-img/42c/42c006401027d35add93113548eeaae6.jpg" }, "measures" : [ { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_unit", "label" : "Whole", "qualified" : [ [ { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Qualifier_large", "label" : "large" } ], [ { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Qualifier_small", "label" : "small" } ], [ { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Qualifier_medium", "label" : "medium" } ] ] }, { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_serving", "label" : "Serving" }, { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_apple", "label" : "Apple" }, { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_gram", "label" : "Gram" }, { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_ounce", "label" : "Ounce" }, { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_pound", "label" : "Pound" }, { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram", "label" : "Kilogram" }, { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_cup", "label" : "Cup", "qualified" : [ [ { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Qualifier_quartered", "label" : "quartered" }, { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Qualifier_chopped", "label" : "chopped" } ] ] } ] }, { "food" : { "foodId" : "food_amhlqj0by3ozesbg96kkhar1atxt", "uri" : "http://www.edamam.com/ontologies/edamam.owl#Food_fuji_apple", "label" : "Fuji Apple", "nutrients" : { "ENERC_KCAL" : 63.0, "PROCNT" : 0.2, "FAT" : 0.18, "CHOCDF" : 15.22, "FIBTG" : 2.1 }, "category" : "Generic foods", "categoryLabel" : "food", "image" : "https://www.edamam.com/food-img/327/327e8b398000b83e4764ca0bab240f14.jpg" }, "measures" : [ { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_unit", "label" : "Whole", "qualified" : [ [ { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Qualifier_medium", "label" : "medium" } ], [ { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Qualifier_large", "label" : "large" } ], [ { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Qualifier_small", "label" : "small" } ] ] }, { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_serving", "label" : "Serving" }, { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_gram", "label" : "Gram" }, { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_ounce", "label" : "Ounce" }, { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_pound", "label" : "Pound" }, { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram", "label" : "Kilogram" }, { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_cup", "label" : "Cup", "qualified" : [ [ { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Qualifier_sliced", "label" : "sliced" } ] ] } ] }, { "food" : { "foodId" : "food_bfh0qoxboaspbtbj3gqnkafdf2r9", "uri" : "http://www.edamam.com/ontologies/edamam.owl#Food_gala_apple", "label" : "Gala Apple", "nutrients" : { "ENERC_KCAL" : 57.0, "PROCNT" : 0.25, "FAT" : 0.12, "CHOCDF" : 13.68, "FIBTG" : 2.3 }, "category" : "Generic foods", "categoryLabel" : "food", "image" : "https://www.edamam.com/food-img/256/2568844fd3c89a9fa6ef0a07757ed572.jpg" }, "measures" : [ { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_unit", "label" : "Whole", "qualified" : [ [ { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Qualifier_medium", "label" : "medium" } ], [ { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Qualifier_large", "label" : "large" } ], [ { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Qualifier_small", "label" : "small" } ] ] }, { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_serving", "label" : "Serving" }, { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_gram", "label" : "Gram" }, { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_ounce", "label" : "Ounce" }, { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_pound", "label" : "Pound" }, { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram", "label" : "Kilogram" }, { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_cup", "label" : "Cup", "qualified" : [ [ { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Qualifier_sliced", "label" : "sliced" } ] ] } ] }, { "food" : { "foodId" : "food_bxlgb9vbmjhys5bt5sopab22g4ld", "uri" : "http://www.edamam.com/ontologies/edamam.owl#Food_peeled_apple", "label" : "Peeled Apple", "nutrients" : { "ENERC_KCAL" : 48.0, "PROCNT" : 0.27, "FAT" : 0.13, "CHOCDF" : 12.76, "FIBTG" : 1.3 }, "category" : "Generic foods", "categoryLabel" : "food", "image" : "https://www.edamam.com/food-img/5aa/5aac39c4acdc63e48312cea5c28329f4.jpg" }, "measures" : [ { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_unit", "label" : "Whole", "qualified" : [ [ { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Qualifier_large", "label" : "large" } ], [ { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Qualifier_small", "label" : "small" } ], [ { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Qualifier_medium", "label" : "medium" } ] ] }, { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_serving", "label" : "Serving" }, { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_gram", "label" : "Gram" }, { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_ounce", "label" : "Ounce" }, { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_pound", "label" : "Pound" }, { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram", "label" : "Kilogram" }, { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_cup", "label" : "Cup" } ] }, { "food" : { "foodId" : "food_b4m99bgatuhmfybeq0d7xa9uvr1b", "uri" : "http://www.edamam.com/ontologies/edamam.owl#Food_granny_smith_apple", "label" : "Green Apple", "nutrients" : { "ENERC_KCAL" : 58.0, "PROCNT" : 0.44, "FAT" : 0.19, "CHOCDF" : 13.61, "FIBTG" : 2.8 }, "category" : "Generic foods", "categoryLabel" : "food", "image" : "https://www.edamam.com/food-img/288/288a6646dd6bb05a482f4405bf6e2861.jpg" }, "measures" : [ { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_unit", "label" : "Whole", "qualified" : [ [ { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Qualifier_large", "label" : "large" } ], [ { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Qualifier_medium", "label" : "medium" } ], [ { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Qualifier_small", "label" : "small" } ] ] }, { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_serving", "label" : "Serving" }, { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_gram", "label" : "Gram" }, { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_ounce", "label" : "Ounce" }, { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_pound", "label" : "Pound" }, { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram", "label" : "Kilogram" }, { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_cup", "label" : "Cup", "qualified" : [ [ { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Qualifier_sliced", "label" : "sliced" } ] ] } ] }, { "food" : { "foodId" : "food_bacmbq9afv8uq3bm26em4anhw12o", "uri" : "http://www.edamam.com/ontologies/edamam.owl#Food_golden_delicious_apple", "label" : "Golden Delicious Apple", "nutrients" : { "ENERC_KCAL" : 57.0, "PROCNT" : 0.28, "FAT" : 0.15, "CHOCDF" : 13.6, "FIBTG" : 2.4 }, "category" : "Generic foods", "categoryLabel" : "food", "image" : "https://www.edamam.com/food-img/683/6838f8020957c737b95ad3236ba710a3.jpg" }, "measures" : [ { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_unit", "label" : "Whole", "qualified" : [ [ { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Qualifier_medium", "label" : "medium" } ], [ { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Qualifier_large", "label" : "large" } ], [ { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Qualifier_small", "label" : "small" } ] ] }, { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_serving", "label" : "Serving" }, { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_gram", "label" : "Gram" }, { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_ounce", "label" : "Ounce" }, { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_pound", "label" : "Pound" }, { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram", "label" : "Kilogram" }, { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_cup", "label" : "Cup", "qualified" : [ [ { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Qualifier_sliced", "label" : "sliced" } ] ] } ] }, { "food" : { "foodId" : "food_a6ew6eha0m4nx4blvb73tbhfjcw6", "uri" : "http://www.edamam.com/ontologies/edamam.owl#Food_red_delicious_apple", "label" : "Red Delicious Apple", "nutrients" : { "ENERC_KCAL" : 59.0, "PROCNT" : 0.27, "FAT" : 0.2, "CHOCDF" : 14.06, "FIBTG" : 2.3 }, "category" : "Generic foods", "categoryLabel" : "food", "image" : "https://www.edamam.com/food-img/e9a/e9a0cedf31414f009fba31eab13e552b.jpg" }, "measures" : [ { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_unit", "label" : "Whole", "qualified" : [ [ { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Qualifier_small", "label" : "small" } ], [ { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Qualifier_medium", "label" : "medium" } ], [ { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Qualifier_large", "label" : "large" } ] ] }, { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_gram", "label" : "Gram" }, { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_ounce", "label" : "Ounce" }, { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_pound", "label" : "Pound" }, { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram", "label" : "Kilogram" }, { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_cup", "label" : "Cup", "qualified" : [ [ { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Qualifier_sliced", "label" : "sliced" } ] ] } ] }, { "food" : { "foodId" : "food_b61a32bboh5z1naughqq3bk507cj", "uri" : "http://www.edamam.com/ontologies/edamam.owl#Food_FDCBR_450137", "label" : "Apple Jelly, Apple", "nutrients" : { "ENERC_KCAL" : 250.0, "PROCNT" : 0.0, "FAT" : 0.0, "CHOCDF" : 65.0 }, "brand" : "Hy-Vee", "category" : "Packaged foods", "categoryLabel" : "food", "foodContentsLabel" : "APPLE JUICE (WATER; APPLE JUICE CONCENTRATE); HIGH FRUCTOSE CORN SYRUP; CORN SYRUP; CONTAINS LESS THAN 2% OF: FRUIT PECTIN; CITRIC ACID.", "image" : "https://www.edamam.com/food-img/5f7/5f77579127213b1e255087f07fb32899.jpg" }, "measures" : [ { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_serving", "label" : "Serving" }, { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_package", "label" : "Package" }, { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_gram", "label" : "Gram" }, { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_ounce", "label" : "Ounce" }, { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_pound", "label" : "Pound" }, { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram", "label" : "Kilogram" }, { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_tablespoon", "label" : "Tablespoon" } ] }, { "food" : { "foodId" : "food_aqgwowob88ca3wbc8oxd6aol3rfk", "uri" : "http://www.edamam.com/ontologies/edamam.owl#Food_INR_FP1151432", "label" : "Apple Country, Apples", "nutrients" : { "ENERC_KCAL" : 51.94805194805195, "PROCNT" : 0.0, "FAT" : 0.0, "CHOCDF" : 14.29220794083236, "FIBTG" : 3.1818182437450853 }, "brand" : "Apple Country", "category" : "Packaged foods", "categoryLabel" : "food", "foodContentsLabel" : "Apple" }, "measures" : [ { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_serving", "label" : "Serving" }, { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_gram", "label" : "Gram" }, { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_ounce", "label" : "Ounce" }, { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_pound", "label" : "Pound" }, { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram", "label" : "Kilogram" } ] }, { "food" : { "foodId" : "food_be9kxv3bo7sobaakr2rceautpjp2", "uri" : "http://www.edamam.com/ontologies/edamam.owl#Food_INR_FP399320", "label" : "Apple Country Apples", "nutrients" : { "ENERC_KCAL" : 7.7, "PROCNT" : 0.03899999856948853, "FAT" : 0.025, "CHOCDF" : 2.0579999923706054, "FIBTG" : 0.35999999046325687 }, "brand" : "Apple Country", "category" : "Packaged foods", "categoryLabel" : "food", "foodContentsLabel" : "Apple", "image" : "https://www.edamam.com/food-img/9f5/9f54a8bbadc9febf4d71bc96698ab803.jpg" }, "measures" : [ { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_serving", "label" : "Serving" }, { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_package", "label" : "Package" }, { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_gram", "label" : "Gram" }, { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_ounce", "label" : "Ounce" }, { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_pound", "label" : "Pound" }, { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram", "label" : "Kilogram" } ] }, { "food" : { "foodId" : "food_b8rrwcpbvba3asaru2mdsbagsbs2", "uri" : "http://www.edamam.com/ontologies/edamam.owl#_generic_meal_apple_crisp_baked_apple", "label" : "Apple-Crisp Baked Apples", "nutrients" : { "ENERC_KCAL" : 106.03956616796349, "PROCNT" : 0.9362503447706831, "FAT" : 6.077002847401216, "CHOCDF" : 13.683948357131875, "FIBTG" : 2.1664565256307085 }, "category" : "Generic meals", "categoryLabel" : "meal", "foodContentsLabel" : "walnuts; pecans; brown sugar; kosher salt; ground cinnamon; cardamom; rolled oats; butter; apples; apple cider; vanilla ice cream" }, "measures" : [ { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_unit", "label" : "Whole" }, { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_serving", "label" : "Serving" }, { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_gram", "label" : "Gram" }, { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_ounce", "label" : "Ounce" }, { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_pound", "label" : "Pound" }, { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram", "label" : "Kilogram" } ] }, { "food" : { "foodId" : "food_bcruvycav1jponay8eu0oa5fkbhx", "uri" : "http://www.edamam.com/ontologies/edamam.owl#_generic_meal_apple_pie_baked_apple", "label" : "Apple Pie Baked Apples", "nutrients" : { "ENERC_KCAL" : 134.5233856921379, "PROCNT" : 1.1491020469471132, "FAT" : 3.202887624039124, "CHOCDF" : 27.022139090138158, "FIBTG" : 2.160775443025757 }, "category" : "Generic meals", "categoryLabel" : "meal", "foodContentsLabel" : "Apples; Dark Brown Sugar; ground cinnamon; oats; all purpose flour; unsalted butter; kosher salt; orange; orange juice; honey" }, "measures" : [ { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_unit", "label" : "Whole" }, { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_serving", "label" : "Serving" }, { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_gram", "label" : "Gram" }, { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_ounce", "label" : "Ounce" }, { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_pound", "label" : "Pound" }, { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram", "label" : "Kilogram" } ] }, { "food" : { "foodId" : "food_alf4rnzbbw62pla3tdbosau0jh5s", "uri" : "http://www.edamam.com/ontologies/edamam.owl#Food_INR_FP1151199", "label" : "Apple", "nutrients" : { "ENERC_KCAL" : 51.94805194805195, "PROCNT" : 0.0, "FAT" : 0.0, "CHOCDF" : 14.29220794083236, "FIBTG" : 3.1818182437450853 }, "brand" : "Honeybear Brands", "category" : "Packaged foods", "categoryLabel" : "food", "foodContentsLabel" : "Apples" }, "measures" : [ { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_serving", "label" : "Serving" }, { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_gram", "label" : "Gram" }, { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_ounce", "label" : "Ounce" }, { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_pound", "label" : "Pound" }, { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram", "label" : "Kilogram" } ] }, { "food" : { "foodId" : "food_bjgna80bjia37ravs39oratd4t4z", "uri" : "http://www.edamam.com/ontologies/edamam.owl#Food_INR_FP1151845", "label" : "Apples", "nutrients" : { "ENERC_KCAL" : 51.94805194805195, "PROCNT" : 0.0, "FAT" : 0.0, "CHOCDF" : 14.29220794083236, "FIBTG" : 3.1818182437450853 }, "brand" : "Pinkids", "category" : "Packaged foods", "categoryLabel" : "food", "foodContentsLabel" : "Apples" }, "measures" : [ { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_serving", "label" : "Serving" }, { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_gram", "label" : "Gram" }, { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_ounce", "label" : "Ounce" }, { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_pound", "label" : "Pound" }, { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram", "label" : "Kilogram" } ] }, { "food" : { "foodId" : "food_ac5wwmobhru47ra2zum6la1zdnln", "uri" : "http://www.edamam.com/ontologies/edamam.owl#Food_INR_FP1151850", "label" : "Apples", "nutrients" : { "ENERC_KCAL" : 54.13223140495868, "PROCNT" : 0.4090909130317121, "FAT" : 0.4090909130317121, "CHOCDF" : 14.049586776859504, "FIBTG" : 2.107437977120896 }, "brand" : "Apple Wedge", "category" : "Packaged foods", "categoryLabel" : "food", "foodContentsLabel" : "Apples" }, "measures" : [ { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_serving", "label" : "Serving" }, { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_gram", "label" : "Gram" }, { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_ounce", "label" : "Ounce" }, { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_pound", "label" : "Pound" }, { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram", "label" : "Kilogram" } ] }, { "food" : { "foodId" : "food_acsiefta0dtto6a7srju9axnqgmh", "uri" : "http://www.edamam.com/ontologies/edamam.owl#Food_INR_FP1151859", "label" : "Apples", "nutrients" : { "ENERC_KCAL" : 51.94805194805195, "PROCNT" : 0.0, "FAT" : 0.0, "CHOCDF" : 14.29220794083236, "FIBTG" : 3.1818182437450853 }, "brand" : "Produce Marketing Association", "category" : "Packaged foods", "categoryLabel" : "food", "foodContentsLabel" : "Apples" }, "measures" : [ { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_serving", "label" : "Serving" }, { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_gram", "label" : "Gram" }, { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_ounce", "label" : "Ounce" }, { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_pound", "label" : "Pound" }, { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram", "label" : "Kilogram" } ] }, { "food" : { "foodId" : "food_awtilwybcoi3khbmhj5zja17u6x5", "uri" : "http://www.edamam.com/ontologies/edamam.owl#Food_INR_FP738962", "label" : "Apple", "nutrients" : { "ENERC_KCAL" : 53.33333333333333, "PROCNT" : 0.0, "FAT" : 0.0, "CHOCDF" : 14.666666666666666, "FIBTG" : 3.333333333333333 }, "brand" : "Apples", "category" : "Packaged foods", "categoryLabel" : "food", "foodContentsLabel" : "Apple", "image" : "https://www.edamam.com/food-img/952/95283d2e88ddde6da732380d846e33c7.jpg" }, "measures" : [ { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_serving", "label" : "Serving" }, { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_gram", "label" : "Gram" }, { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_ounce", "label" : "Ounce" }, { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_pound", "label" : "Pound" }, { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram", "label" : "Kilogram" } ] }, { "food" : { "foodId" : "food_azhmnz7b7ufaedbbzbli1a1nquzu", "uri" : "http://www.edamam.com/ontologies/edamam.owl#Food_INR_FP739048", "label" : "Apple", "nutrients" : { "ENERC_KCAL" : 53.719008264462815, "PROCNT" : 0.4132231404958678, "FAT" : 0.0, "CHOCDF" : 14.049586776859504, "FIBTG" : 2.066115702479339 }, "brand" : "Produce Marketers Association", "category" : "Packaged foods", "categoryLabel" : "food", "foodContentsLabel" : "Organic Apples.", "image" : "https://www.edamam.com/food-img/2ca/2ca1e30949d2e5a2fb01e92d6f69db82.jpg" }, "measures" : [ { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_serving", "label" : "Serving" }, { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_gram", "label" : "Gram" }, { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_ounce", "label" : "Ounce" }, { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_pound", "label" : "Pound" }, { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram", "label" : "Kilogram" } ] }, { "food" : { "foodId" : "food_bj030ujaizsbxcbik17jzblz8gmz", "uri" : "http://www.edamam.com/ontologies/edamam.owl#Food_INR_FP1151840", "label" : "Apples", "nutrients" : { "ENERC_KCAL" : 51.94805194805195, "PROCNT" : 0.0, "FAT" : 0.0, "CHOCDF" : 14.29220794083236, "FIBTG" : 3.1818182437450853 }, "brand" : "Apple Country", "category" : "Packaged foods", "categoryLabel" : "food", "foodContentsLabel" : "Apples" }, "measures" : [ { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_serving", "label" : "Serving" }, { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_gram", "label" : "Gram" }, { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_ounce", "label" : "Ounce" }, { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_pound", "label" : "Pound" }, { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram", "label" : "Kilogram" } ] }, { "food" : { "foodId" : "food_b52qyvfazt0m3abdstnp4a3dkvtl", "uri" : "http://www.edamam.com/ontologies/edamam.owl#Food_INR_FP1151870", "label" : "Apples", "nutrients" : { "ENERC_KCAL" : 51.94805194805195, "PROCNT" : 0.0, "FAT" : 0.0, "CHOCDF" : 14.29220794083236, "FIBTG" : 3.1818182437450853 }, "brand" : "Mountaineer", "category" : "Packaged foods", "categoryLabel" : "food", "foodContentsLabel" : "Apples" }, "measures" : [ { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_serving", "label" : "Serving" }, { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_gram", "label" : "Gram" }, { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_ounce", "label" : "Ounce" }, { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_pound", "label" : "Pound" }, { "uri" : "http://www.edamam.com/ontologies/edamam.owl#Measure_kilogram", "label" : "Kilogram" } ] } ], "_links" : { "next" : { "title" : "Next page", "href" : "https://api.edamam.com/api/food-database/parser?session=44&app_key=69d004c3e3c5b967261e625baea627fc&app_id=85b409cf&ingr=apple" } } }';
    $json = json_decode($json, true);
    return $json;
}*/

function printValues($arr) {
    global $count;
    global $values;
    
    // Check input is an array
    if(!is_array($arr)){
        die("ERROR: Input is not an array");
    }
    
    /*
    Loop through array, if value is itself an array recursively call the
    function else add the value found to the output items array,
    and increment counter by 1 for each value found
    */
    foreach($arr as $key=>$value){
        if(is_array($value)){
            printValues($value);
        } else{
            $values[] = $value;
            $count++;
        }
    }
    
    // Return total count and values found in array
    return array('total' => $count, 'values' => $values);
}